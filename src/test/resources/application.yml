spring:
  application:
    name: mvp-recommender-test

  datasource:
    url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false
    driver-class-name: org.h2.Driver
    username: sa
    password:

  jpa:
    hibernate:
      ddl-auto: create-drop   # Create schema at start, drop at end
      dialect: org.hibernate.dialect.H2Dialect
    show-sql: true
    properties:
      hibernate.format_sql: true

  cache:
    type: caffeine
    caffeine:
      spec: maximum=100,expireAfterWrite=10m

mvp:
  api:
    base-url: https://fantasy.premierleague.com/api
    bootstrap-url: ${mvp.api.base-url}/bootstrap-static/
    player-url: ${mvp.api.base-url}/element-summary/{id}/
    fixtures-url: ${mvp.api.base-url}/fixtures/

  ai:
    provider: openai
    openai:
      api-key: ${OPENAI_API_KEY:your-api-key}  # Mocked for tests; do NOT call real OpenAI
      model: gpt-3.5-turbo
      max-tokens: 500
      temperature: 0.7

  scheduler:
    update-data-cron: "0 0 2 * * ?"
    weekly-alert-cron: "0 0 9 * * FRI"

  notification:
    email:
      enabled: false   # Disable email sending in tests
      from: test@example.com
